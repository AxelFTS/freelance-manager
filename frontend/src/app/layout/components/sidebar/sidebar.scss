// ============================================================================
// SIDEBAR - Refined Dark Navigation
// ============================================================================

:host {
  display: block;
  height: 100%;
}

mat-drawer {
  background-color: var(--bg-surface);
  border-right: 1px solid var(--border-subtle);
  width: var(--sidebar-width);
  transition: all var(--transition-base);

  // Remove default Material styles
  box-shadow: none !important;
}

mat-nav-list {
  background-color: transparent;
  height: 100%;
  padding: var(--space-6) var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

// ============================================================================
// NAVIGATION ITEMS
// ============================================================================

.mat-mdc-list-item {
  position: relative;
  border-radius: var(--radius-md) !important;
  margin-bottom: var(--space-2);
  min-height: 48px !important;
  padding: 0 var(--space-4) !important;
  color: var(--text-secondary);
  font-family: var(--font-body);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  transition: all var(--transition-base);
  overflow: hidden;

  // Remove default Material ripple background
  &::before {
    display: none;
  }

  // Default state
  &:not(.active) {
    background-color: transparent;

    &:hover {
      background-color: var(--bg-elevated);
      color: var(--text-primary);
      transform: translateX(4px);

      .mat-icon {
        color: var(--accent-primary);
        transform: scale(1.1);
      }

      // Subtle left border on hover
      &::after {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 3px;
        height: 60%;
        background: linear-gradient(
          to bottom,
          transparent,
          var(--accent-primary),
          transparent
        );
        border-radius: var(--radius-full);
        opacity: 0.6;
      }
    }
  }

  // Active state
  &.active {
    background: linear-gradient(
      135deg,
      rgba(var(--accent-primary-rgb), 0.15),
      rgba(var(--accent-primary-rgb), 0.05)
    );
    color: var(--accent-primary);
    font-weight: var(--font-semibold);
    box-shadow: inset 0 0 0 1px rgba(var(--accent-primary-rgb), 0.3);

    .mat-icon {
      color: var(--accent-primary);
      filter: drop-shadow(0 0 8px rgba(var(--accent-primary-rgb), 0.6));
    }

    // Active indicator - left border
    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: linear-gradient(
        to bottom,
        var(--accent-primary),
        var(--accent-secondary)
      );
      border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
      display: block;
    }
  }
}

// ============================================================================
// ICON STYLING
// ============================================================================

.mat-icon {
  margin-right: var(--space-4);
  color: var(--text-secondary);
  transition: all var(--transition-base);
  font-size: 22px;
  width: 22px;
  height: 22px;
}

// ============================================================================
// LIST ITEM CONTENT
// ============================================================================

.mdc-list-item__content {
  display: flex;
  align-items: center;
  padding: var(--space-3) 0;
}

span[matListItemTitle] {
  font-size: var(--text-sm);
  font-weight: inherit;
  letter-spacing: 0.01em;
}

// ============================================================================
// SIDEBAR FOOTER (Optional - for future use)
// ============================================================================

.sidebar-footer {
  margin-top: auto;
  padding: var(--space-4);
  border-top: 1px solid var(--border-subtle);

  .user-info {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--radius-md);
    transition: all var(--transition-base);
    cursor: pointer;

    &:hover {
      background-color: var(--bg-elevated);
    }

    .avatar {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-full);
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: var(--font-semibold);
      font-size: var(--text-sm);
      color: var(--text-inverse);
    }

    .user-details {
      flex: 1;

      .name {
        font-size: var(--text-sm);
        font-weight: var(--font-medium);
        color: var(--text-primary);
        display: block;
      }

      .role {
        font-size: var(--text-xs);
        color: var(--text-tertiary);
      }
    }
  }
}

// ============================================================================
// LOGO/BRANDING SECTION (Optional)
// ============================================================================

.sidebar-brand {
  padding: var(--space-6) var(--space-4);
  margin-bottom: var(--space-4);

  .brand-logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);

    .logo-icon {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;

      mat-icon {
        color: white;
        font-size: 20px;
      }
    }

    .brand-text {
      font-family: var(--font-display);
      font-size: var(--text-lg);
      font-weight: var(--font-bold);
      color: var(--text-primary);
      letter-spacing: -0.01em;
    }
  }
}

// ============================================================================
// ANIMATIONS
// ============================================================================

// Stagger animation for nav items
@for $i from 1 through 10 {
  .mat-mdc-list-item:nth-child(#{$i}) {
    animation: slideInRight calc(var(--transition-base) + #{$i * 50}ms) ease-out;
  }
}

// ============================================================================
// RESPONSIVE ADJUSTMENTS
// ============================================================================

@media (max-width: 768px) {
  mat-drawer {
    width: 280px;
  }
}
